<!doctype html>
<html lang="en" data-theme="classic">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NowCook — Author Storefront</title>
<style>
  :root {
    --bg: #ffffff; --fg: #111827; --muted: #6b7280;
    --card: #ffffff; --card-border: #e5e7eb; --accent: #2e7d32;
  }
  [data-theme="classic"]{
    --bg:#ffffff; --fg:#111827; --muted:#6b7280;
    --card:#ffffff; --card-border:#e5e7eb; --accent:#2e7d32;
  }
  [data-theme="minimal"]{
    --bg:#f9fafb; --fg:#0f172a; --muted:#475569;
    --card:#ffffff; --card-border:#e2e8f0; --accent:#0ea5e9;
  }
  [data-theme="noir"]{
    --bg:#0b0f14; --fg:#e5e7eb; --muted:#94a3b8;
    --card:#0f141b; --card-border:#1f2937; --accent:#f59e0b;
  }

  html,body{margin:0;background:var(--bg);color:var(--fg);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  .wrap{max-width:1080px;margin:0 auto;padding:16px}
  .hero{
    border-radius:16px; overflow:hidden; position:relative; height:300px; background:#ddd;
    display:grid; place-items:end start;
  }
  .hero img{width:100%;height:100%;object-fit:cover;display:block;filter:contrast(1.05)}
  .badge{
    position:absolute; left:16px; bottom:16px; display:flex; gap:12px; align-items:center;
    background:color-mix(in oklab, var(--card) 86%, transparent); backdrop-filter: blur(6px);
    border:1px solid var(--card-border); padding:10px 12px; border-radius:14px;
  }
  .avatar{width:48px;height:48px;border-radius:50%;object-fit:cover;border:2px solid var(--card-border)}
  h1{margin:0;font-size:20px}
  .muted{color:var(--muted)}
  .toolbar{display:flex;align-items:center;justify-content:space-between;margin:14px 0 6px}
  .tags{display:flex;gap:8px;flex-wrap:wrap}
  .tag{font-size:12px;color:var(--muted);border:1px solid var(--card-border);padding:4px 8px;border-radius:999px}
  .themepicker{display:flex;gap:8px}
  .themepicker button{border:1px solid var(--card-border);background:var(--card);color:var(--fg);padding:6px 10px;border-radius:8px;cursor:pointer}
  .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin:16px 0 40px}
  .card{background:var(--card);border:1px solid var(--card-border);border-radius:16px;overflow:hidden;display:flex;flex-direction:column}
  .card img{width:100%;aspect-ratio:3/2;object-fit:cover}
  .card .body{padding:12px 14px 14px}
  .pill{display:inline-flex;align-items:center;gap:6px;background:color-mix(in oklab, var(--accent) 12%, transparent);
        color:var(--accent);border:1px solid color-mix(in oklab, var(--accent) 25%, var(--card-border));
        padding:3px 8px;border-radius:999px;font-size:12px;font-weight:600}
  .cta{margin-top:auto;display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-top:1px solid var(--card-border)}
  .btn{appearance:none;border:0;background:var(--accent);color:#fff;padding:8px 12px;border-radius:10px;cursor:pointer;font-weight:600}
  a{color:inherit;text-decoration:none}
  .socials a{color:var(--muted);margin-right:10px}
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  @media (min-width: 900px){ .hero{height:380px} }
</style>
</head>
<body>
<div class="wrap">

  <div class="toolbar">
    <div class="socials" id="socials"></div>
    <div class="themepicker">
      <span class="muted">Theme:</span>
      <button data-set-theme="classic">Classic</button>
      <button data-set-theme="minimal">Minimal</button>
      <button data-set-theme="noir">Noir</button>
    </div>
  </div>

  <section class="hero" id="hero">
    <img id="heroImg" alt="">
    <div class="badge">
      <img id="avatar" class="avatar" alt="">
      <div>
        <h1 id="displayName">Chef</h1>
        <div id="bioShort" class="muted"></div>
      </div>
    </div>
  </section>

  <div style="display:flex;align-items:center;justify-content:space-between;margin-top:14px">
    <div class="tags" id="cuisineTags"></div>
    <div class="pill" id="storeLabel">Chef Storefront</div>
  </div>

  <section class="cards" id="cards"></section>

  <footer class="muted" style="margin:12px 0 40px">
    <small>Powered by <strong>NowCook — MealMaps</strong></small>
  </footer>
</div>

<script>
/* Paste/replace this with a fetch to your JSON if preferred. */
window.AUTHOR_PROFILE = window.AUTHOR_PROFILE || {
  "id":"chef_demo","display_name":"Jamie Sample",
  "avatar_url":"https://picsum.photos/seed/chef/160",
  "hero_image_url":"https://picsum.photos/seed/kitchen/1600/600",
  "bio_short":"Chef, writer, herb obsessive. Weeknight comfort with restaurant tricks.",
  "cuisine_tags":["modern-british","italian-ish","weeknight"],
  "socials":{"website":"https://example.com","instagram":"jamiesample"},
  "theme":"classic",
  "featured_mealmaps":[
    {"id":"meal_roast_chicken_veg_pan","title":"One-Pan Roast Chicken & Vegetables","subtitle":"crispy skin, caramelized veg","hero_image_url":"https://picsum.photos/seed/roast/900/600","tags":["roast","family","one-pan"],"serve_time_min":110,"price_usd":4.95,"rating":4.8},
    {"id":"meal_pasta_garlic_butter","title":"Pasta with Garlic Butter Sauce","subtitle":"al dente, silky, 20-minute","hero_image_url":"https://picsum.photos/seed/pasta/900/600","tags":["pasta","weeknight"],"serve_time_min":20,"price_usd":2.95,"rating":4.7},
    {"id":"meal_risotto_porcinis","title":"Porcini Mushroom Risotto","subtitle":"loose, creamy, umami","hero_image_url":"https://picsum.photos/seed/risotto/900/600","tags":["risotto"],"serve_time_min":45,"price_usd":3.95,"rating":4.9}
  ]
};

(function init(){
  const p = window.AUTHOR_PROFILE;

  // Theme
  document.documentElement.setAttribute('data-theme', p.theme || 'classic');
  if (p.brand_color) document.documentElement.style.setProperty('--accent', p.brand_color);

  // Hero
  const heroImg = document.getElementById('heroImg');
  const avatar  = document.getElementById('avatar');
  const nameEl  = document.getElementById('displayName');
  const bioEl   = document.getElementById('bioShort');
  heroImg.src = p.hero_image_url || 'https://picsum.photos/seed/cover/1600/600';
  heroImg.alt = p.display_name + " hero";
  avatar.src = p.avatar_url || 'https://picsum.photos/seed/avatar/120';
  avatar.alt = p.display_name;
  nameEl.textContent = p.display_name;
  bioEl.textContent = p.bio_short || '';

  // Tags
  const tagsWrap = document.getElementById('cuisineTags');
  (p.cuisine_tags || []).forEach(t=>{
    const span = document.createElement('span'); span.className='tag'; span.textContent=t; tagsWrap.appendChild(span);
  });

  // Socials
  const socials = document.getElementById('socials');
  const links = [];
  if (p.socials?.website) links.push(`<a href="${p.socials.website}" target="_blank" rel="noopener">Website</a>`);
  if (p.socials?.instagram) links.push(`<a href="https://instagram.com/${p.socials.instagram}" target="_blank" rel="noopener">Instagram</a>`);
  if (p.socials?.youtube) links.push(`<a href="https://youtube.com/${p.socials.youtube}" target="_blank" rel="noopener">YouTube</a>`);
  if (p.socials?.tiktok) links.push(`<a href="https://tiktok.com/@${p.socials.tiktok}" target="_blank" rel="noopener">TikTok</a>`);
  socials.innerHTML = links.join("");

  // Cards
  const cards = document.getElementById('cards');
  (p.featured_mealmaps || []).forEach(m=>{
    const el = document.createElement('article'); el.className='card';
    el.innerHTML = `
      <img alt="${m.title}" src="${m.hero_image_url || 'https://picsum.photos/seed/meal/900/600'}">
      <div class="body">
        <div class="pill" title="Approx. serve time">${m.serve_time_min ? (m.serve_time_min + ' min') : 'MealMap'}</div>
        <h3 style="margin:8px 0 4px;font-size:18px">${m.title}</h3>
        ${m.subtitle ? `<div class="muted" style="font-size:14px">${m.subtitle}</div>` : ''}
        <div class="tags" style="margin-top:8px">${(m.tags||[]).map(t=>`<span class="tag">${t}</span>`).join('')}</div>
      </div>
      <div class="cta">
        ${m.rating ? `<span class="muted" aria-label="rating">★ ${m.rating.toFixed(1)}</span>` : '<span></span>'}
        <a class="btn" href="#${m.id}" title="View MealMap">View</a>
      </div>`;
    cards.appendChild(el);
  });

  // Theme picker
  document.querySelectorAll('[data-set-theme]').forEach(btn=>{
    btn.addEventListener('click', (e)=>{
      const t = e.currentTarget.getAttribute('data-set-theme');
      document.documentElement.setAttribute('data-theme', t);
    });
  });
})();
</script>
</body>
</html>